compat: v0
id: ride-the-lightning
version: 0.11.0.1
title: Ride the Lightning
release-notes: Upgrade to EmbassyOS v0.3.0
license: MIT
wrapper-repo: https://github.com/Start9Labs/ride-the-lightning-wrapper
upstream-repo: https://github.com/Ride-The-Lightning/RTL
support-site: https://github.com/Ride-The-Lightning/RTL/issues
marketing-site: https://twitter.com/RTL_App
build: ["make"]
min-os-version: 0.3.0
license-info:
  license: MIT
  url: https://github.com/Ride-The-Lightning/RTL/blob/master/LICENSE
description:
  short: "A full function, device agnostic, web user interface for managing lightning node operations"
  long: "A full function, device agnostic, web user interface for managing lightning node operations. Ride The Lightning is hosted as its own Tor V3 Hidden Service. It talks directly to the LND node running on your Embassy and is accessible from any Tor-enabled Browser!"
assets:
  license: LICENSE
  icon: icon.png
  instructions: instructions.md
  docker-images: image.tar
  icon-type: png
main:
  type: docker
  image: main
  entrypoint: "/usr/local/bin/docker_entrypoint.sh"
  args: []
  mounts: {}
  io-format: yaml
health-checks: {}
config:
  get:
    type: docker
    image: compat
    entrypoint: compat
    args: 
      - "config"
      - "get"
      - "/root/start9/config.yaml"
      - "/mnt/assets/config_spec.yaml"
    mounts:
      compat: "/mnt/assets"
      main: "/root"
    io-format: yaml
  set:
    type: docker
    image: compat
    entrypoint: compat
    args:
      - "config"
      - "set"
      - "/root/start9/config.yaml"
    mounts:
      main: "/root"
    io-format: yaml
volumes:
  main:
    type: data
  compat:
    type: assets
interfaces:
  main:
    name: Main Interface
    description: The main RTL browser interface
    tor-config:
      port-mapping:
        80: "80"
    lan-config:
      80:
        ssl: true
        mapping: 443
    ui: true
    protocols:
      - tcp
      - http
backup:
  create:
    type: docker
    image: compat
    system: true
    entrypoint: compat
    args:
      - duplicity
      - ride-the-lightning
      - file:///mnt/backup
      - /root
    mounts:
      # BACKUP is the default volume that is used for backups - this is whatever backup drive is mounted to the device, or a network filesystem
      # the value here denotes where the data mount point will be
      # mounts backup drive to this location, which contains previous backups
      BACKUP: /mnt/backup
      main: /root/
  restore:
    type: docker
    image: compat
    system: true
    entrypoint: compat
    args:
      - ride-the-lightning
      - /root
      - file:///mnt/backup
    mounts:
      BACKUP: /mnt/backup
      main: /root
      compat: /mnt/assets
dependencies:
  lnd:
    version: ">=0.11.1 <0.14.0"
    optional: Can alternatively configure an external LND node.
    description: Used to communicate with the Lightning Network.
    mount-public: true
    critical: false
