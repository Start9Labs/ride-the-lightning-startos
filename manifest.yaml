id: ride-the-lightning
title: Ride the Lightning
version: 0.12.3
release-notes: |
  - This release adds Core Lightning, or CLN (formerly c-lightning) compatibility and updates RTL to v0.12.3
  - For more, see: https://github.com/Ride-The-Lightning/RTL/releases/tag/v0.12.3
license: MIT
wrapper-repo: https://github.com/Start9Labs/ride-the-lightning-wrapper
upstream-repo: https://github.com/Ride-The-Lightning/RTL
support-site: https://github.com/Ride-The-Lightning/RTL/issues
marketing-site: https://twitter.com/RTL_App
build: ["make"]
description:
  short: "A full function, device agnostic, web user interface for managing lightning node operations"
  long: "A full function, device agnostic, web user interface for managing lightning node operations. It talks directly to the LND or CLN node running on your Embassy and is accessible from any Tor-enabled Browser!"
assets:
  license: LICENSE
  icon: icon.png
  instructions: instructions.md
  docker-images: image.tar
main:
  type: docker
  image: main
  entrypoint: docker_entrypoint.sh
  args: []
  mounts:
    main: /root
    lnd: /mnt/lnd
  io-format: yaml
health-checks:
  main:
    name: Web UI
    success-message: RTL is ready to visit in a web browser
    type: docker
    image: main
    entrypoint: check-web.sh
    args: []
    io-format: json
    inject: true
config:
  get:
    type: docker
    image: compat
    system: true
    entrypoint: compat
    args:
      - config
      - get
      - /root
      - /mnt/assets/config_spec.yaml
    mounts:
      main: /root
      compat: /mnt/assets
    io-format: yaml
  set:
    type: docker
    image: compat
    system: true
    entrypoint: compat
    args:
      - config
      - set
      - ride-the-lightning
      - /root
      - /mnt/assets/config_rules.yaml
    mounts:
      main: /root
      compat: /mnt/assets
    io-format: yaml
properties:
  type: docker
  image: compat
  system: true
  entrypoint: compat
  args:
    - properties
    - /root
  mounts:
    main: /root
  io-format: yaml
volumes:
  main:
    type: data
  compat:
    type: assets
  lnd:
    type: pointer
    package-id: lnd
    volume-id: main
    path: /public
    readonly: true
interfaces:
  main:
    name: Browser Interface
    description: The main RTL browser interface
    tor-config:
      port-mapping:
        80: "80"
    lan-config:
      443:
        ssl: true
        internal: 80
    ui: true
    protocols:
      - tcp
      - http
dependencies:
  lnd:
    version: ">=0.13.4 <0.15.0"
    description: Used to communicate with the Lightning Network.
    requirement:
      type: opt-out
      how: Can opt to use the internal Core Lightning (CLN) instance instead of LND
    config: ~
  c-lightning:
    version: ">=0.10.1 <0.11.0"
    description: Used to communicate with the Lightning Network.
    requirement:
      type: opt-out
      how: Can opt to use the internal LND instance instead of LND
    config:
      check:
        type: docker
        image: compat
        system: true
        entrypoint: compat
        args:
          - dependency
          - check
          - ride-the-lightning
          - "c-lightning"
          - /data
          - "/mnt/assets/c-lightning_rules.yaml"
        mounts:
          compat: /mnt/assets
          main: /root
        io-format: yaml
      auto-configure:
        type: docker
        image: compat
        system: true
        entrypoint: compat
        args:
          - dependency
          - "auto-configure"
          - ride-the-lightning
          - "c-lightning"
          - /root
          - "/mnt/assets/c-lightning_rules.yaml"
        mounts:
          compat: /mnt/assets
          main: /root
        io-format: yaml
backup:
  create:
    type: docker
    image: compat
    system: true
    entrypoint: compat
    args:
      - duplicity
      - create
      - /mnt/backup
      - /root/data
    mounts:
      BACKUP: /mnt/backup
      main: /root/data
    io-format: yaml
  restore:
    type: docker
    image: compat
    system: true
    entrypoint: compat
    args:
      - duplicity
      - restore
      - /mnt/backup
      - /root/data
    mounts:
      BACKUP: /mnt/backup
      main: /root/data
    io-format: yaml
migrations:
  from:
    ">=0.11.0 <0.12.2":
      type: docker
      image: main
      system: false
      entrypoint: "/bin/echo"
      args: ['{"configured": true}']
      io-format: json
      inject: false
  to:
    ">=0.11.0 <0.12.2":
      type: docker
      image: main
      system: false
      entrypoint: "/bin/echo"
      args: ['{"configured": true}']
      io-format: json
      inject: false
